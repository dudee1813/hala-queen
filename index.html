<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HALA ðŸ‘‘ The Queen</title>

<style>
  body{
    margin:0;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(135deg,#ffd1dc,#ffe6f0);
    font-family:system-ui;
    overflow:hidden;
    transition: background 900ms ease;
  }

  body.golden{
    background: radial-gradient(circle at top, #fff1b8, #ffcf6b, #ff7aa5);
  }

  #tap{
    padding:28px 42px;
    font-size:24px;
    background:white;
    border-radius:32px;
    box-shadow:0 18px 45px rgba(0,0,0,.25);
    cursor:pointer;
    user-select:none;
  }

  /* âœ… Scrollable full-screen scene */
  #scene{
    display:none;
    position:fixed;
    inset:0;
    background:linear-gradient(135deg,#ff9a9e,#fad0c4);
    color:#fff;

    overflow-y:auto;                  /* âœ… scroll */
    -webkit-overflow-scrolling:touch; /* âœ… smooth on iPhone */
    padding:10vh 6vw 14vh;            /* âœ… extra bottom space */
    text-align:center;
    transition: background 900ms ease;
  }

  #scene.golden{
    background: radial-gradient(circle at top,
      rgba(255,241,184,.65),
      rgba(255,207,107,.35),
      rgba(255,122,165,.15));
  }

  /* Center content nicely */
  .wrap{
    max-width:780px;
    margin:0 auto;
  }

  .crownRow{
    font-size:44px;
    margin-bottom:10px;
    animation:pulse 1.6s ease-in-out infinite;
    transition: filter 600ms ease, transform 600ms ease;
    will-change: filter, transform;
  }

  .crownRow.glow{
    filter:
      drop-shadow(0 0 10px rgba(255,255,255,.9))
      drop-shadow(0 0 22px rgba(255,220,120,.95))
      drop-shadow(0 0 42px rgba(255,160,200,.85));
    transform: scale(1.18);
  }

  @keyframes pulse{
    0%,100%{transform:scale(1); opacity:1}
    50%{transform:scale(1.05); opacity:.95}
  }

  h1{
    font-size:44px;
    margin:0 0 8px;
    letter-spacing:1px;
    text-shadow:0 6px 24px rgba(0,0,0,.18);
  }
  h2{
    font-size:22px;
    font-weight:400;
    margin:0 0 18px;
    opacity:.95;
  }

  #countdown{
    font-size:28px;
    margin:10px 0 18px;
    font-weight:700;
    opacity:.95;
  }

  #msg{
    font-size:20px;
    line-height:1.7;
    margin:0 auto;
    white-space:pre-line;
  }

  .signature{
    margin-top:22px;
    font-size:18px;
    opacity:.95;
  }

  .actions{
    margin-top:18px;
    display:flex;
    gap:12px;
    justify-content:center;
    flex-wrap:wrap;
  }

  .btn{
    border:0;
    padding:12px 16px;
    border-radius:999px;
    background:rgba(255,255,255,.22);
    color:#fff;
    font-size:16px;
    cursor:pointer;
    backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,.28);
  }
  .btn:active{transform:scale(.98)}
  .btnSolid{
    background:#fff;
    color:#ff5a7a;
    border:0;
  }

  .heart{
    position:absolute;
    animation:float 4s linear forwards;
    user-select:none;
    pointer-events:none;
  }
  @keyframes float{
    from{transform:translateY(0);opacity:1}
    to{transform:translateY(-120vh);opacity:0}
  }

  .sparkle{
    position:absolute;
    color:rgba(255,255,255,.9);
    animation:spark 1.8s ease-in-out infinite;
    user-select:none;
    pointer-events:none;
  }
  @keyframes spark{
    0%,100%{opacity:.2; transform:scale(.9) rotate(0deg)}
    50%{opacity:.9; transform:scale(1.15) rotate(12deg)}
  }

  #wishNote{
    display:none;
    margin-top:14px;
    font-size:18px;
    opacity:.98;
    text-shadow:0 6px 22px rgba(0,0,0,.18);
  }
  #wishSecret{
    display:none;
    margin-top:10px;
    font-size:16px;
    opacity:.92;
  }

  .confetti{
    position:absolute;
    top:-20px;
    width:10px;
    height:14px;
    border-radius:3px;
    opacity:.95;
    animation:fall linear forwards;
    pointer-events:none;
  }
  @keyframes fall{
    to{ transform: translateY(calc(100vh + 60px)) rotate(720deg); }
  }
</style>
</head>

<body>
<div id="tap">âœ¨ Tap here âœ¨</div>

<div id="scene">
  <div class="wrap">
    <div class="crownRow" id="crown">ðŸ‘‘</div>
    <h1>HALA</h1>
    <h2>The Queen</h2>

    <div id="countdown">Ready? ðŸ’–</div>
    <div id="msg"></div>

    <div class="signature" id="sig" style="display:none;">
      â€” From <b>Duraid Albarghouthi</b> ðŸ’–
    </div>

    <div id="wishNote">ðŸ’Œ Another little secret for youâ€¦</div>
    <div id="wishSecret"><b>Queens always get their wishes ðŸ‘‘âœ¨</b></div>

    <div class="actions" id="actions" style="display:none;">
      <button class="btn btnSolid" id="wishBtn">Make a wish âœ¨</button>
      <a class="btn" target="_blank" rel="noopener"
         href="https://youtu.be/9fXvAxd-XTQ?si=4nOfqQC_RIGpcg1q">
        Listen to Kadim ðŸŽ¶
      </a>
    </div>
  </div>
</div>

<!-- âœ… Best: host your calm piano locally in the repo -->
<audio id="music" loop preload="auto" playsinline>
  <source src="./music.mp3?v=1" type="audio/mpeg">
</audio>

<script>
const tap = document.getElementById("tap");
const scene = document.getElementById("scene");
const crown = document.getElementById("crown");
const countdown = document.getElementById("countdown");
const msg = document.getElementById("msg");
const sig = document.getElementById("sig");
const actions = document.getElementById("actions");
const wishBtn = document.getElementById("wishBtn");
const music = document.getElementById("music");
const wishNote = document.getElementById("wishNote");
const wishSecret = document.getElementById("wishSecret");

const fullText =
`To the best I have ever known â€” The Queen HALA,

You were, you are, and you will always be
the greatest and the most beautiful
human being.

You have a heart that feels deeply,
a soul that shines quietly,
and a presence that makes everything
around you warmer and brighter.

Your kindness is rare,
your strength is inspiring,
and your smile has a way of
making the world feel lighter.

Never forget how special you are,
how deeply you are appreciated,
and how naturally you make
life more beautiful âœ¨

Some people shine loudly,
but you glow quietly â€”
And that glow stays longer in the heartâœ¨.


A queen not by title,
but by the way you make others feel. 

 âœ¨ ØºØ§Ø§Ù„ÙŠØªÙŠ Ø§Ù†ØªÙŠ ØºØ§Ù„ÙŠØªÙŠ âœ¨
`;

function popHearts(){
  setInterval(()=>{
    const h = document.createElement("div");
    h.className = "heart";
    const emojis = ["ðŸ’–","ðŸ’•","ðŸ’—","âœ¨","ðŸ’ž"];
    h.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    h.style.left = Math.random()*100 + "vw";
    h.style.bottom = "-30px";
    h.style.fontSize = (18 + Math.random()*26) + "px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  },240);
}

function sparkles(){
  for(let i=0;i<14;i++){
    const sp = document.createElement("div");
    sp.className = "sparkle";
    sp.textContent = "âœ¦";
    sp.style.left = Math.random()*100 + "vw";
    sp.style.top  = Math.random()*70 + "vh";
    sp.style.fontSize = (10 + Math.random()*14) + "px";
    sp.style.animationDelay = (Math.random()*1.2) + "s";
    document.body.appendChild(sp);
  }
}

function typeWriter(text){
  msg.textContent = "";
  let i = 0;
  const t = setInterval(()=>{
    msg.textContent += text[i] || "";
    i++;
    if(i >= text.length){
      clearInterval(t);
      sig.style.display = "block";
      actions.style.display = "flex";
    }
  }, 50); // a bit slow
}

function doCountdown(){
  const nums = ["3â€¦","2â€¦","1â€¦","ðŸ‘‘"];
  let i=0;
  const c = setInterval(()=>{
    countdown.textContent = nums[i];
    i++;
    if(i === nums.length){
      clearInterval(c);
      countdown.textContent = "For you ðŸ’–";
      typeWriter(fullText);
    }
  }, 240);
}

async function startMusic(){
  try{
    await music.play();
    return true;
  }catch(e){
    return false;
  }
}

function fadeInMusic(target=0.35, step=0.02, ms=320){
  try{
    music.volume = 0.05;
    const id = setInterval(()=>{
      music.volume = Math.min(target, music.volume + step);
      if(music.volume >= target) clearInterval(id);
    }, ms);
  }catch(e){}
}

function addPlayButton(){
  if(document.getElementById("playMusicBtn")) return;
  actions.style.display = "flex";
  const btn = document.createElement("button");
  btn.id = "playMusicBtn";
  btn.className = "btn btnSolid";
  btn.textContent = "Play music ðŸŽ¶";
  btn.onclick = async () => {
    const ok = await startMusic();
    if(ok){ fadeInMusic(); btn.remove(); }
  };
  actions.prepend(btn);
}

function confettiBurst(n=80){
  for(let i=0;i<n;i++){
    const d = document.createElement("div");
    d.className = "confetti";
    d.style.left = Math.random()*100 + "vw";
    d.style.background = `hsl(${Math.random()*360}, 90%, 60%)`;
    d.style.animationDuration = (1.6 + Math.random()*1.8) + "s";
    d.style.transform = `translateY(0) rotate(${Math.random()*180}deg)`;
    document.body.appendChild(d);
    setTimeout(() => d.remove(), 4000);
  }
}

function heartExplosion(){
  for(let i=0;i<40;i++){
    const h = document.createElement("div");
    h.className = "heart";
    const emojis = ["ðŸ’–","ðŸ’•","ðŸ’—","ðŸ’ž","âœ¨","ðŸŒ¸"];
    h.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    h.style.left = (Math.random()*100) + "vw";
    h.style.bottom = "0px";
    h.style.fontSize = (22 + Math.random()*32) + "px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  }
}

tap.addEventListener("click", async () => {
  tap.style.display = "none";
  scene.style.display = "block";

  if(navigator.vibrate) navigator.vibrate([120,80,120]);

  sparkles();
  popHearts();
  doCountdown();

  const ok = await startMusic();
  if(ok) fadeInMusic();
  else addPlayButton();
});

let wishedOnce = false;
wishBtn.onclick = () => {
  if(wishedOnce) return;
  wishedOnce = true;

  crown.classList.add("glow");
  setTimeout(()=>crown.classList.remove("glow"), 2200);

  confettiBurst(90);
  heartExplosion();

  wishNote.style.display = "block";
  wishSecret.style.display = "block";

  try{ music.volume = Math.min(1, (music.volume || 0.35) + 0.20); }catch(e){}

  document.body.classList.add("golden");
  scene.classList.add("golden");
  countdown.textContent = "Wish granted âœ¨ðŸ‘‘";

  if(navigator.vibrate) navigator.vibrate([70,40,70]);
};
</script>

</body>
</html>

