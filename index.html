<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HALA ðŸ‘‘ The Queen</title>

<style>
  body{
    margin:0;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(135deg,#ffd1dc,#ffe6f0);
    font-family:system-ui;
    overflow:hidden;
  }

  #tap{
    padding:28px 42px;
    font-size:24px;
    background:white;
    border-radius:32px;
    box-shadow:0 18px 45px rgba(0,0,0,.25);
    cursor:pointer;
    user-select:none;
  }

  #scene{
    display:none;
    position:fixed;
    inset:0;
    background:linear-gradient(135deg,#ff9a9e,#fad0c4);
    text-align:center;
    padding:10vh 6vw;
    color:#fff;
  }

  .crownRow{
    font-size:44px;
    margin-bottom:10px;
    animation:pulse 1.6s ease-in-out infinite;
  }

  @keyframes pulse{
    0%,100%{transform:scale(1); opacity:1}
    50%{transform:scale(1.05); opacity:.95}
  }

  h1{
    font-size:44px;
    margin:0 0 8px;
    letter-spacing:1px;
  }
  h2{
    font-size:22px;
    font-weight:400;
    margin:0 0 18px;
    opacity:.95;
  }

  #countdown{
    font-size:28px;
    margin:10px 0 18px;
    font-weight:700;
    opacity:.95;
  }

  #msg{
    font-size:20px;
    line-height:1.7;
    max-width:720px;
    margin:0 auto;
    white-space:pre-line;
    min-height:220px;
  }

  .signature{
    margin-top:26px;
    font-size:18px;
    opacity:.95;
  }

  .actions{
    margin-top:22px;
    display:flex;
    gap:12px;
    justify-content:center;
    flex-wrap:wrap;
  }

  .btn{
    border:0;
    padding:12px 16px;
    border-radius:999px;
    background:rgba(255,255,255,.22);
    color:#fff;
    font-size:16px;
    cursor:pointer;
    backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,.28);
  }
  .btn:active{transform:scale(.98)}
  .btnSolid{
    background:#fff;
    color:#ff5a7a;
    border:0;
  }

  .heart{
    position:absolute;
    animation:float 4s linear forwards;
    user-select:none;
    pointer-events:none;
  }
  @keyframes float{
    from{transform:translateY(0);opacity:1}
    to{transform:translateY(-120vh);opacity:0}
  }

  .sparkle{
    position:absolute;
    color:rgba(255,255,255,.9);
    animation:spark 1.8s ease-in-out infinite;
    user-select:none;
    pointer-events:none;
  }
  @keyframes spark{
    0%,100%{opacity:.2; transform:scale(.9) rotate(0deg)}
    50%{opacity:.9; transform:scale(1.15) rotate(12deg)}
  }
</style>
</head>

<body>

<div id="tap">âœ¨ Tap here âœ¨</div>

<div id="scene">
  <div class="crownRow">ðŸ‘‘</div>
  <h1>HALA</h1>
  <h2>The Queen</h2>

  <div id="countdown">Ready? ðŸ’–</div>

  <div id="msg"></div>

  <div class="signature" id="sig" style="display:none;">
    â€” From <b>Duraid Albarghouthi</b> ðŸ’–
  </div>

  <div class="actions" id="actions" style="display:none;">
    <button class="btn btnSolid" id="wishBtn">Make a wish âœ¨</button>
    <a class="btn" id="kadimLink" target="_blank" rel="noopener"
       href="https://youtu.be/9fXvAxd-XTQ?si=4nOfqQC_RIGpcg1q">
      Listen to Kadim ðŸŽ¶
    </a>
  </div>
</div>

<!-- Romantic royalty-free music (more compatible) -->
<audio id="music" loop preload="auto" playsinline>
  <source src="https://cdn.pixabay.com/audio/2024/12/06/audio_0f3c7d0e8f.mp3?v=3" type="audio/mpeg">
</audio>



<script>
const tap = document.getElementById("tap");
const scene = document.getElementById("scene");
const countdown = document.getElementById("countdown");
const msg = document.getElementById("msg");
const sig = document.getElementById("sig");
const actions = document.getElementById("actions");
const wishBtn = document.getElementById("wishBtn");
const music = document.getElementById("music");

const fullText =
`To the best I have ever known â€” The Queen HALA,

You were, you are, and you will always be
the greatest and the most beautiful
human being.

Your kindness, strength, and light
make the world a better place âœ¨`;

function popHearts(){
  setInterval(()=>{
    const h = document.createElement("div");
    h.className = "heart";
    const emojis = ["ðŸ’–","ðŸ’•","ðŸ’—","âœ¨","ðŸ’ž"];
    h.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    h.style.left = Math.random()*100 + "vw";
    h.style.bottom = "-30px";
    h.style.fontSize = (18 + Math.random()*26) + "px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  },240);
}

function sparkles(){
  for(let i=0;i<14;i++){
    const sp = document.createElement("div");
    sp.className = "sparkle";
    sp.textContent = "âœ¦";
    sp.style.left = Math.random()*100 + "vw";
    sp.style.top  = Math.random()*70 + "vh";
    sp.style.fontSize = (10 + Math.random()*14) + "px";
    sp.style.animationDelay = (Math.random()*1.2) + "s";
    document.body.appendChild(sp);
  }
}

function typeWriter(text){
  msg.textContent = "";
  let i = 0;
  const t = setInterval(()=>{
    msg.textContent += text[i] || "";
    i++;
    if(i >= text.length){
      clearInterval(t);
      sig.style.display = "block";
      actions.style.display = "flex";
    }
  }, 50);
}

function doCountdown(){
  const nums = ["3â€¦","2â€¦","1â€¦","ðŸ‘‘"];
  let i=0;
  const c = setInterval(()=>{
    countdown.textContent = nums[i];
    i++;
    if(i === nums.length){
      clearInterval(c);
      countdown.textContent = "For you ðŸ’–";
      typeWriter(fullText);
    }
  }, 260); // faster
}

async function startMusic(){
  try{
    await music.play();
    return true;
  }catch(e){
    return false;
  }
}

function addPlayButton(){
  if(document.getElementById("playMusicBtn")) return;

  actions.style.display = "flex";

  const btn = document.createElement("button");
  btn.id = "playMusicBtn";
  btn.className = "btn btnSolid";
  btn.textContent = "Play music ðŸŽ¶";

  btn.onclick = async () => {
    const ok = await startMusic();
    if(ok) btn.remove();
  };

  actions.prepend(btn);
}

tap.addEventListener("click", async () => {
  tap.style.display = "none";
  scene.style.display = "block";

  if(navigator.vibrate) navigator.vibrate([120,80,120]);

  sparkles();
  popHearts();
  doCountdown();

  const ok = await startMusic();
  if(!ok) addPlayButton();
});

wishBtn.onclick = () => {
  if(navigator.vibrate) navigator.vibrate([70,40,70]);
  countdown.textContent = "Wish granted âœ¨ðŸ’–";
};
</script>

</body>
</html>


